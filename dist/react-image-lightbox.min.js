!function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{var g;g="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,g.ReactImageLightbox=f()}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){/*
 * react-image-lightbox 1.0.0
 * Copyright 2016 Chris Fritz All rights reserved.
 * @license Open source under the MIT License
 */
"use strict";var React="undefined"!=typeof window?window.React:"undefined"!=typeof global?global.React:null;module.exports=React.createClass({displayName:"exports",propTypes:{mainSrc:React.PropTypes.string.isRequired,prevSrc:React.PropTypes.string,nextSrc:React.PropTypes.string,mainSrcThumbnail:React.PropTypes.string,prevSrcThumbnail:React.PropTypes.string,nextSrcThumbnail:React.PropTypes.string,onCloseRequest:React.PropTypes.func.isRequired,onMovePrevRequest:React.PropTypes.func,onMoveNextRequest:React.PropTypes.func,discourageDownloads:React.PropTypes.bool,animationDisabled:React.PropTypes.bool,animationOnKeyInput:React.PropTypes.bool,animationDuration:React.PropTypes.number,keyRepeatLimit:React.PropTypes.number,keyRepeatKeyupBonus:React.PropTypes.number,imageTitle:React.PropTypes.string,toolbarButtons:React.PropTypes.arrayOf(React.PropTypes.node),imagePadding:React.PropTypes.number},getDefaultProps:function(){return{onMovePrevRequest:function(){},onMoveNextRequest:function(){},discourageDownloads:!1,animationDisabled:!1,animationOnKeyInput:!1,animationDuration:300,keyRepeatLimit:180,keyRepeatKeyupBonus:40,imagePadding:10}},getInitialState:function(){return{isClosing:!this.props.animationDisabled,isMovingToPrev:!1,isMovingToNext:!1}},componentWillMount:function(){this.listenersAttached=!1,this.keyPressed=!1,this.imageCache={},this.lastKeyDownTime=0},componentDidMount:function(){this.attachListeners(),this.props.animationDisabled||this.setState({isClosing:!1}),this.loadAllImages()},componentWillReceiveProps:function(nextProps){var sourcesChanged=this.getSrcTypes().some(function(srcType){return this.props[srcType]!=nextProps[srcType]}.bind(this));if(sourcesChanged){if(!this.props.animationDisabled&&(!this.keyPressed||this.props.animationOnKeyInput)){this.props.mainSrc==nextProps.nextSrc;this.props.mainSrc==nextProps.nextSrc?(this.setState({isMovingToPrev:!0}),setTimeout(function(){this.setState({isMovingToPrev:!1})}.bind(this),this.props.animationDuration)):this.props.mainSrc==nextProps.prevSrc&&(this.setState({isMovingToNext:!0}),setTimeout(function(){this.setState({isMovingToNext:!1})}.bind(this),this.props.animationDuration))}this.keyPressed=!1,this.loadAllImages(nextProps)}},componentWillUnmount:function(){this.detachListeners()},handleKeyInput:function(event){if(event.stopPropagation(),!this.isAnimating()){if("keyup"===event.type)return void(this.lastKeyDownTime-=this.props.keyRepeatKeyupBonus);var keyCode=event.which||event.keyCode,key={esc:27,leftArrow:37,rightArrow:39},currentTime=new Date;if(!(currentTime.getTime()-this.lastKeyDownTime<this.props.keyRepeatLimit&&keyCode!=key.esc))switch(this.lastKeyDownTime=currentTime.getTime(),keyCode){case key.esc:event.preventDefault(),this.props.animationDisabled||!this.props.animationOnKeyInput?this.props.onCloseRequest(event):this.requestClose(event);break;case key.leftArrow:if(!this.props.prevSrc)return;event.preventDefault(),this.keyPressed=!0,this.props.onMovePrevRequest(event);break;case key.rightArrow:if(!this.props.nextSrc)return;event.preventDefault(),this.keyPressed=!0,this.props.onMoveNextRequest(event)}}},requestClose:function(event){var closeLightbox=function(){this.props.onCloseRequest(event)}.bind(this);this.props.animationDisabled?closeLightbox():(this.setState({isClosing:!0}),setTimeout(closeLightbox,this.props.animationDuration))},requestMovePrev:function(event){this.props.onMovePrevRequest(event)},requestMoveNext:function(event){this.props.onMoveNextRequest(event)},attachListeners:function(){this.listenersAttached||(document.addEventListener("keydown",this.handleKeyInput),document.addEventListener("keyup",this.handleKeyInput),this.listenersAttached=!0)},detachListeners:function(){this.listenersAttached&&(document.removeEventListener("keydown",this.handleKeyInput),document.removeEventListener("keyup",this.handleKeyInput),this.listenersAttached=!1)},getSrcTypes:function(){return["mainSrc","mainSrcThumbnail","nextSrc","nextSrcThumbnail","prevSrc","prevSrcThumbnail"]},getFitSizes:function(width,height){var windowHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,windowWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,maxHeight=Math.min(windowHeight-2*this.props.imagePadding,height),maxWidth=Math.min(windowWidth-2*this.props.imagePadding,width),maxRatio=maxWidth/maxHeight,srcRatio=width/height,fitSizes={};return maxRatio>srcRatio?(fitSizes.width=width*maxHeight/height,fitSizes.height=maxHeight):(fitSizes.width=maxWidth,fitSizes.height=height*maxWidth/width),fitSizes},isAnimating:function(){return this.state.isMovingToNext||this.state.isMovingToPrev||this.state.isClosing},loadImage:function(imageSrc,callback){if(this.isImageLoaded(imageSrc))return void setTimeout(function(){callback(null,this.imageCache[imageSrc].width,this.imageCache[imageSrc].height)},1);var that=this,inMemoryImage=new Image;inMemoryImage.onerror=function(){callback("image load error")},inMemoryImage.onload=function(){that.imageCache[imageSrc]={loaded:!0,width:this.width,height:this.height},callback(null,this.width,this.height)},inMemoryImage.src=imageSrc},loadAllImages:function(props){props=props||this.props;var generateImageLoadedCallback=function(srcType,imageSrc){return function(err){err||this.props[srcType]==imageSrc&&this.forceUpdate()}.bind(this)}.bind(this);this.getSrcTypes().forEach(function(srcType){props[srcType]&&!this.isImageLoaded(props[srcType])&&this.loadImage(props[srcType],generateImageLoadedCallback(srcType,props[srcType]))}.bind(this))},isImageLoaded:function(imageSrc){return imageSrc&&imageSrc in this.imageCache&&this.imageCache[imageSrc].loaded},render:function(){var transitionStyle="none";!this.props.animationDisabled&&this.isAnimating()&&(transitionStyle=["left "+String(this.props.animationDuration)+"ms","right "+String(this.props.animationDuration)+"ms"].join(", "));var images=[],addImage=function(srcType,imageClass){var imageSrc=this.props[srcType];if(imageSrc){var imageStyle={transition:transitionStyle},fitSizes={};if(this.isImageLoaded(imageSrc))fitSizes=this.getFitSizes(this.imageCache[imageSrc].width,this.imageCache[imageSrc].height);else{if(!this.isImageLoaded(this.props[srcType+"Thumbnail"]))return void images.push(React.createElement("div",{className:imageClass+" not-loaded",style:imageStyle,key:imageSrc}));imageSrc=this.props[srcType+"Thumbnail"],fitSizes=this.getFitSizes(this.imageCache[imageSrc].width,this.imageCache[imageSrc].height)}imageStyle.width=fitSizes.width,imageStyle.height=fitSizes.height,this.props.discourageDownloads?(imageStyle.backgroundImage="url('"+imageSrc+"')",images.push(React.createElement("div",{className:imageClass,style:imageStyle,key:imageSrc},React.createElement("div",{className:"rlb-download-blocker"})))):images.push(React.createElement("img",{className:imageClass,style:imageStyle,src:imageSrc,key:imageSrc}))}}.bind(this);addImage("nextSrc","rlb-image-next"),addImage("mainSrc","rlb-image-current"),addImage("prevSrc","rlb-image-prev");var noop=function(){};return React.createElement("div",{className:"rlb-outer"+(this.state.isClosing?" rlb-closing":""),style:{transition:"opacity "+String(this.props.animationDuration)+"ms"}},React.createElement("div",{className:"rlb-inner"},images),this.props.prevSrc?React.createElement("button",{type:"button",className:"rlb-prev-button",onClick:this.isAnimating()?noop:this.requestMovePrev}):"",this.props.nextSrc?React.createElement("button",{type:"button",className:"rlb-next-button",onClick:this.isAnimating()?noop:this.requestMoveNext}):"",React.createElement("div",{className:"rlb-toolbar"},React.createElement("ul",{className:"rlb-toolbar-left"},React.createElement("li",null,this.props.imageTitle)),React.createElement("ul",{className:"rlb-toolbar-right"},this.props.toolbarButtons?this.props.toolbarButtons.map(function(button,i){return React.createElement("li",{key:i},button)}):"",React.createElement("li",null,React.createElement("button",{type:"button",className:"rlb-close",onClick:this.isAnimating()?noop:this.requestClose})))))}})},{}],2:[function(require,module,exports){module.exports=require("./components/react-image-lightbox.jsx")},{"./components/react-image-lightbox.jsx":1}]},{},[2])(2)});
